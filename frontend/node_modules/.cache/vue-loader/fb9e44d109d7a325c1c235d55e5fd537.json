{"remainingRequest":"/Users/amin/Development/PROJECTS/chetty/chetty-frontend/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/amin/Development/PROJECTS/chetty/chetty-frontend/src/App.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/amin/Development/PROJECTS/chetty/chetty-frontend/src/App.vue","mtime":1639873169478},{"path":"/Users/amin/Development/PROJECTS/chetty/chetty-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1639605629144},{"path":"/Users/amin/Development/PROJECTS/chetty/chetty-frontend/node_modules/babel-loader/lib/index.js","mtime":1639605629091},{"path":"/Users/amin/Development/PROJECTS/chetty/chetty-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1639605629144},{"path":"/Users/amin/Development/PROJECTS/chetty/chetty-frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1639605675013}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBTb2NrSlMgZnJvbSAic29ja2pzLWNsaWVudCI7CmltcG9ydCBTdG9tcCBmcm9tICJ3ZWJzdG9tcC1jbGllbnQiOwppbXBvcnQgQ2hhdFdpbmRvdyBmcm9tICIuL2NvbXBvbmVudHMvQ2hhdFdpbmRvdy52dWUiOwppbXBvcnQgeyByZWYgfSBmcm9tICJ2dWUiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJBcHAiLAogIGRhdGEoKSB7CiAgICAvL1RPRE8gZXh0ZXJuYWxpemUgdG8gY29uZmlnIGZpbGUgb3IgZW52CiAgICBjb25zdCB1cmwgPSAiaHR0cDovLzEyNy4wLjAuMTo4MDgxL3dzIjsKICAgIGNvbnN0IGh0dHBVcmwgPSAiaHR0cDovLzEyNy4wLjAuMTo4MDgxIjsKICAgIGNvbnN0IG1lc3NhZ2VUb3BpYyA9ICIvdG9waWMvbWVzc2FnZXMiOwoKICAgIHZhciBjb25uZWN0ZWQgPSByZWYoZmFsc2UpOwogICAgdmFyIHNvY2tldCA9IG51bGw7CiAgICB2YXIgd3MgPSByZWYobnVsbCk7CiAgICB2YXIgbWVzc2FnZXMgPSBbCiAgICAgICJIZWxsbz8iLAogICAgICAiQXJlIHlvdSBhdmFpbGFibGU/IiwKICAgICAgIkknbSBpIGFsb25lIGluIHRoZSBjaGF0PyEiLAogICAgXTsKICAgIHZhciB1c2VycyA9IFsiSFIgTWFuYWdlciIsICJQcm9kdWN0IE93bmVyIiwgIlRlY2ggTGVhZCJdOwogICAgcmV0dXJuIHsKICAgICAgc29ja2V0LAogICAgICB1c2VycywKICAgICAgd3MsCiAgICAgIG1lc3NhZ2VUb3BpYywKICAgICAgbWVzc2FnZXMsCiAgICAgIHVybCwKICAgICAgaHR0cFVybCwKICAgICAgY29ubmVjdGVkLAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGpvaW5DaGF0KCkgewogICAgICAvL1RPRE8gc2V0IG1zZ1R5cGUgdG8gSk9JTiBhbmQgcHVzaCB1c2VyIHRvIHVzZXJzCiAgICB9LAogICAgbGVhdmVDaGF0KCkgewogICAgICAvL1RPRE8gc2V0IG1zZ1R5cGUgdG8gTEVBVkUgYW5kIHJlbW92ZSB1c2VyIHRvIHVzZXJzCiAgICB9LAogICAgY29ubmVjdCgpIHsKICAgICAgdGhpcy5zb2NrZXQgPSBuZXcgU29ja0pTKHRoaXMudXJsKTsKICAgICAgdGhpcy53cyA9IFN0b21wLm92ZXIodGhpcy5zb2NrZXQpOwogICAgICB0aGlzLndzLmNvbm5lY3QoCiAgICAgICAge30sCiAgICAgICAgKGZyYW1lKSA9PiB7CiAgICAgICAgICB0aGlzLmNvbm5lY3RlZCA9IHRydWU7CiAgICAgICAgICBjb25zb2xlLmxvZygiU3VjY2Vzc2Z1bGx5IGNvbm5lY3RlZCB0bzoiLCBmcmFtZSk7CiAgICAgICAgICB0aGlzLndzLnN1YnNjcmliZSh0aGlzLm1lc3NhZ2VUb3BpYywgKHJlcykgPT4gewogICAgICAgICAgICBsZXQgZGF0YSA9IEpTT04ucGFyc2UocmVzLmJvZHkpOwogICAgICAgICAgICBjb25zb2xlLmxvZygiRGF0YToiLCBkYXRhKTsKICAgICAgICAgICAgdGhpcy5tZXNzYWdlcy5wdXNoKGRhdGEuY29udGVudCk7CiAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIChlcnJvcikgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgdGhpcy5jb25uZWN0ZWQgPSBmYWxzZTsKICAgICAgICB9CiAgICAgICk7CiAgICB9LAogICAgZGlzY29ubmVjdCgpIHsKICAgICAgaWYgKHRoaXMud3MpIHsKICAgICAgICB0aGlzLndzLmRpc2Nvbm5lY3QoKTsKICAgICAgfQogICAgICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlOwogICAgfSwKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmNvbm5lY3QoKTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIENoYXRXaW5kb3csCiAgfSwKfTsK"},{"version":3,"sources":["/Users/amin/Development/PROJECTS/chetty/chetty-frontend/src/App.vue"],"names":[],"mappings":";AAwBA,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAClC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACnC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACpD,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;;AAEzB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACb,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;EACX,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACL,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IACvC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACtC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACvC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;IAEtC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC1B,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;IACjB,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAClB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE;MACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACR,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACpB,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC7B,CAAC;IACD,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACxD,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACN,CAAC,CAAC,CAAC,CAAC,CAAC;MACL,CAAC,CAAC;MACF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACR,CAAC,CAAC,CAAC;MACH,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACX,CAAC;EACH,CAAC;EACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MACT,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IAClD,CAAC;IACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MACV,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACrD,CAAC;IACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MACR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAClC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACjC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACb,CAAC,CAAC;QACF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;UACT,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;UACrB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAChD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;YAC5C,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC/B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;YAC1B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAClC,CAAC,CAAC;QACJ,CAAC;QACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;UACT,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QACxB;MACF,CAAC;IACH,CAAC;IACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MACX,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;QACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACtB;MACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IACxB,CAAC;EACH,CAAC;EACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAChB,CAAC;EACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACV,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACZ,CAAC;AACH,CAAC","file":"/Users/amin/Development/PROJECTS/chetty/chetty-frontend/src/App.vue","sourceRoot":"","sourcesContent":["<template>\n  <div>\n    <h1 class=\"text-5xl font-bold underline m-2\">Chetty!</h1>\n    <div class=\"flex relative justify-center mx-auto items-center\">\n      <div v-if=\"connected\" class=\"text-green-600\">Connection: ONLINE</div>\n      <div v-else class=\"text-red-500\">\n        <span class=\"animate-bounce inline-flex bg-sky-400 opacity-85\"\n          >Connection: OFFLINE</span\n        >\n      </div>\n      <button v-if=\"!connected\" class=\"button-success\" @click=\"connect\">\n        Reconnect\n      </button>\n    </div>\n    <ChatWindow\n      :connected=\"connected\"\n      :users=\"users\"\n      :ws=\"ws\"\n      :messages=\"messages\"\n    />\n  </div>\n</template>\n\n<script>\nimport SockJS from \"sockjs-client\";\nimport Stomp from \"webstomp-client\";\nimport ChatWindow from \"./components/ChatWindow.vue\";\nimport { ref } from \"vue\";\n\nexport default {\n  name: \"App\",\n  data() {\n    //TODO externalize to config file or env\n    const url = \"http://127.0.0.1:8081/ws\";\n    const httpUrl = \"http://127.0.0.1:8081\";\n    const messageTopic = \"/topic/messages\";\n\n    var connected = ref(false);\n    var socket = null;\n    var ws = ref(null);\n    var messages = [\n      \"Hello?\",\n      \"Are you available?\",\n      \"I'm i alone in the chat?!\",\n    ];\n    var users = [\"HR Manager\", \"Product Owner\", \"Tech Lead\"];\n    return {\n      socket,\n      users,\n      ws,\n      messageTopic,\n      messages,\n      url,\n      httpUrl,\n      connected,\n    };\n  },\n  methods: {\n    joinChat() {\n      //TODO set msgType to JOIN and push user to users\n    },\n    leaveChat() {\n      //TODO set msgType to LEAVE and remove user to users\n    },\n    connect() {\n      this.socket = new SockJS(this.url);\n      this.ws = Stomp.over(this.socket);\n      this.ws.connect(\n        {},\n        (frame) => {\n          this.connected = true;\n          console.log(\"Successfully connected to:\", frame);\n          this.ws.subscribe(this.messageTopic, (res) => {\n            let data = JSON.parse(res.body);\n            console.log(\"Data:\", data);\n            this.messages.push(data.content);\n          });\n        },\n        (error) => {\n          console.log(error);\n          this.connected = false;\n        }\n      );\n    },\n    disconnect() {\n      if (this.ws) {\n        this.ws.disconnect();\n      }\n      this.connected = false;\n    },\n  },\n  created() {\n    this.connect();\n  },\n  components: {\n    ChatWindow,\n  },\n};\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n\n.button-primary {\n  @apply bg-blue-500 text-white rounded-full p-2 m-2 shadow-md text-lg font-semibold;\n}\n.button-secondary {\n  @apply bg-yellow-400 text-white rounded-full p-2 m-2 shadow-md text-lg font-semibold;\n}\n.button-success {\n  @apply bg-green-400 text-white rounded-full p-2 m-2 shadow-md text-lg font-semibold;\n}\n.button-danger {\n  @apply bg-red-400 text-white rounded-full p-2 m-2 shadow-md text-lg font-semibold;\n}\n</style>\n"]}]}