{"remainingRequest":"/Users/amin/Development/PROJECTS/chetty/chetty-frontend/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/amin/Development/PROJECTS/chetty/chetty-frontend/src/App.vue?vue&type=template&id=7ba5bd90","dependencies":[{"path":"/Users/amin/Development/PROJECTS/chetty/chetty-frontend/src/App.vue","mtime":1639873169478},{"path":"/Users/amin/Development/PROJECTS/chetty/chetty-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1639605629144},{"path":"/Users/amin/Development/PROJECTS/chetty/chetty-frontend/node_modules/babel-loader/lib/index.js","mtime":1639605629091},{"path":"/Users/amin/Development/PROJECTS/chetty/chetty-frontend/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1639605675013},{"path":"/Users/amin/Development/PROJECTS/chetty/chetty-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1639605629144},{"path":"/Users/amin/Development/PROJECTS/chetty/chetty-frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1639605675013}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPGRpdj4KICAgIDxoMSBjbGFzcz0idGV4dC01eGwgZm9udC1ib2xkIHVuZGVybGluZSBtLTIiPkNoZXR0eSE8L2gxPgogICAgPGRpdiBjbGFzcz0iZmxleCByZWxhdGl2ZSBqdXN0aWZ5LWNlbnRlciBteC1hdXRvIGl0ZW1zLWNlbnRlciI+CiAgICAgIDxkaXYgdi1pZj0iY29ubmVjdGVkIiBjbGFzcz0idGV4dC1ncmVlbi02MDAiPkNvbm5lY3Rpb246IE9OTElORTwvZGl2PgogICAgICA8ZGl2IHYtZWxzZSBjbGFzcz0idGV4dC1yZWQtNTAwIj4KICAgICAgICA8c3BhbiBjbGFzcz0iYW5pbWF0ZS1ib3VuY2UgaW5saW5lLWZsZXggYmctc2t5LTQwMCBvcGFjaXR5LTg1IgogICAgICAgICAgPkNvbm5lY3Rpb246IE9GRkxJTkU8L3NwYW4KICAgICAgICA+CiAgICAgIDwvZGl2PgogICAgICA8YnV0dG9uIHYtaWY9IiFjb25uZWN0ZWQiIGNsYXNzPSJidXR0b24tc3VjY2VzcyIgQGNsaWNrPSJjb25uZWN0Ij4KICAgICAgICBSZWNvbm5lY3QKICAgICAgPC9idXR0b24+CiAgICA8L2Rpdj4KICAgIDxDaGF0V2luZG93CiAgICAgIDpjb25uZWN0ZWQ9ImNvbm5lY3RlZCIKICAgICAgOnVzZXJzPSJ1c2VycyIKICAgICAgOndzPSJ3cyIKICAgICAgOm1lc3NhZ2VzPSJtZXNzYWdlcyIKICAgIC8+CiAgPC9kaXY+Cg=="},{"version":3,"sources":["/Users/amin/Development/PROJECTS/chetty/chetty-frontend/src/App.vue"],"names":[],"mappings":";EACE,CAAC,CAAC,CAAC,CAAC;IACF,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACxD,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC5D,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACpE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC9B,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAC3D,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC3B;MACF,CAAC,CAAC,CAAC,CAAC,CAAC;MACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC/D,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACV,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACV,CAAC,CAAC,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACrB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACrB,CAAC;EACH,CAAC,CAAC,CAAC,CAAC,CAAC","file":"/Users/amin/Development/PROJECTS/chetty/chetty-frontend/src/App.vue","sourceRoot":"","sourcesContent":["<template>\n  <div>\n    <h1 class=\"text-5xl font-bold underline m-2\">Chetty!</h1>\n    <div class=\"flex relative justify-center mx-auto items-center\">\n      <div v-if=\"connected\" class=\"text-green-600\">Connection: ONLINE</div>\n      <div v-else class=\"text-red-500\">\n        <span class=\"animate-bounce inline-flex bg-sky-400 opacity-85\"\n          >Connection: OFFLINE</span\n        >\n      </div>\n      <button v-if=\"!connected\" class=\"button-success\" @click=\"connect\">\n        Reconnect\n      </button>\n    </div>\n    <ChatWindow\n      :connected=\"connected\"\n      :users=\"users\"\n      :ws=\"ws\"\n      :messages=\"messages\"\n    />\n  </div>\n</template>\n\n<script>\nimport SockJS from \"sockjs-client\";\nimport Stomp from \"webstomp-client\";\nimport ChatWindow from \"./components/ChatWindow.vue\";\nimport { ref } from \"vue\";\n\nexport default {\n  name: \"App\",\n  data() {\n    //TODO externalize to config file or env\n    const url = \"http://127.0.0.1:8081/ws\";\n    const httpUrl = \"http://127.0.0.1:8081\";\n    const messageTopic = \"/topic/messages\";\n\n    var connected = ref(false);\n    var socket = null;\n    var ws = ref(null);\n    var messages = [\n      \"Hello?\",\n      \"Are you available?\",\n      \"I'm i alone in the chat?!\",\n    ];\n    var users = [\"HR Manager\", \"Product Owner\", \"Tech Lead\"];\n    return {\n      socket,\n      users,\n      ws,\n      messageTopic,\n      messages,\n      url,\n      httpUrl,\n      connected,\n    };\n  },\n  methods: {\n    joinChat() {\n      //TODO set msgType to JOIN and push user to users\n    },\n    leaveChat() {\n      //TODO set msgType to LEAVE and remove user to users\n    },\n    connect() {\n      this.socket = new SockJS(this.url);\n      this.ws = Stomp.over(this.socket);\n      this.ws.connect(\n        {},\n        (frame) => {\n          this.connected = true;\n          console.log(\"Successfully connected to:\", frame);\n          this.ws.subscribe(this.messageTopic, (res) => {\n            let data = JSON.parse(res.body);\n            console.log(\"Data:\", data);\n            this.messages.push(data.content);\n          });\n        },\n        (error) => {\n          console.log(error);\n          this.connected = false;\n        }\n      );\n    },\n    disconnect() {\n      if (this.ws) {\n        this.ws.disconnect();\n      }\n      this.connected = false;\n    },\n  },\n  created() {\n    this.connect();\n  },\n  components: {\n    ChatWindow,\n  },\n};\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n\n.button-primary {\n  @apply bg-blue-500 text-white rounded-full p-2 m-2 shadow-md text-lg font-semibold;\n}\n.button-secondary {\n  @apply bg-yellow-400 text-white rounded-full p-2 m-2 shadow-md text-lg font-semibold;\n}\n.button-success {\n  @apply bg-green-400 text-white rounded-full p-2 m-2 shadow-md text-lg font-semibold;\n}\n.button-danger {\n  @apply bg-red-400 text-white rounded-full p-2 m-2 shadow-md text-lg font-semibold;\n}\n</style>\n"]}]}