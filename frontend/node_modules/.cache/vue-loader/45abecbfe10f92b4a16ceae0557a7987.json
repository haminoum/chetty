{"remainingRequest":"/Users/amin/Development/PROJECTS/chetty/chetty-frontend/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/amin/Development/PROJECTS/chetty/chetty-frontend/src/App.vue?vue&type=style&index=0&id=7ba5bd90&lang=css","dependencies":[{"path":"/Users/amin/Development/PROJECTS/chetty/chetty-frontend/src/App.vue","mtime":1639873169478},{"path":"/Users/amin/Development/PROJECTS/chetty/chetty-frontend/node_modules/css-loader/dist/cjs.js","mtime":1639605673329},{"path":"/Users/amin/Development/PROJECTS/chetty/chetty-frontend/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":1639605675013},{"path":"/Users/amin/Development/PROJECTS/chetty/chetty-frontend/node_modules/postcss-loader/src/index.js","mtime":1639605674527},{"path":"/Users/amin/Development/PROJECTS/chetty/chetty-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1639605629144},{"path":"/Users/amin/Development/PROJECTS/chetty/chetty-frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1639605675013}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiNhcHAgewogIGZvbnQtZmFtaWx5OiBBdmVuaXIsIEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWY7CiAgLXdlYmtpdC1mb250LXNtb290aGluZzogYW50aWFsaWFzZWQ7CiAgLW1vei1vc3gtZm9udC1zbW9vdGhpbmc6IGdyYXlzY2FsZTsKICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgY29sb3I6ICMyYzNlNTA7CiAgbWFyZ2luLXRvcDogNjBweDsKfQoKLmJ1dHRvbi1wcmltYXJ5IHsKICBAYXBwbHkgYmctYmx1ZS01MDAgdGV4dC13aGl0ZSByb3VuZGVkLWZ1bGwgcC0yIG0tMiBzaGFkb3ctbWQgdGV4dC1sZyBmb250LXNlbWlib2xkOwp9Ci5idXR0b24tc2Vjb25kYXJ5IHsKICBAYXBwbHkgYmcteWVsbG93LTQwMCB0ZXh0LXdoaXRlIHJvdW5kZWQtZnVsbCBwLTIgbS0yIHNoYWRvdy1tZCB0ZXh0LWxnIGZvbnQtc2VtaWJvbGQ7Cn0KLmJ1dHRvbi1zdWNjZXNzIHsKICBAYXBwbHkgYmctZ3JlZW4tNDAwIHRleHQtd2hpdGUgcm91bmRlZC1mdWxsIHAtMiBtLTIgc2hhZG93LW1kIHRleHQtbGcgZm9udC1zZW1pYm9sZDsKfQouYnV0dG9uLWRhbmdlciB7CiAgQGFwcGx5IGJnLXJlZC00MDAgdGV4dC13aGl0ZSByb3VuZGVkLWZ1bGwgcC0yIG0tMiBzaGFkb3ctbWQgdGV4dC1sZyBmb250LXNlbWlib2xkOwp9Cg=="},{"version":3,"sources":["/Users/amin/Development/PROJECTS/chetty/chetty-frontend/src/App.vue"],"names":[],"mappings":"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","file":"/Users/amin/Development/PROJECTS/chetty/chetty-frontend/src/App.vue","sourceRoot":"","sourcesContent":["<template>\n  <div>\n    <h1 class=\"text-5xl font-bold underline m-2\">Chetty!</h1>\n    <div class=\"flex relative justify-center mx-auto items-center\">\n      <div v-if=\"connected\" class=\"text-green-600\">Connection: ONLINE</div>\n      <div v-else class=\"text-red-500\">\n        <span class=\"animate-bounce inline-flex bg-sky-400 opacity-85\"\n          >Connection: OFFLINE</span\n        >\n      </div>\n      <button v-if=\"!connected\" class=\"button-success\" @click=\"connect\">\n        Reconnect\n      </button>\n    </div>\n    <ChatWindow\n      :connected=\"connected\"\n      :users=\"users\"\n      :ws=\"ws\"\n      :messages=\"messages\"\n    />\n  </div>\n</template>\n\n<script>\nimport SockJS from \"sockjs-client\";\nimport Stomp from \"webstomp-client\";\nimport ChatWindow from \"./components/ChatWindow.vue\";\nimport { ref } from \"vue\";\n\nexport default {\n  name: \"App\",\n  data() {\n    //TODO externalize to config file or env\n    const url = \"http://127.0.0.1:8081/ws\";\n    const httpUrl = \"http://127.0.0.1:8081\";\n    const messageTopic = \"/topic/messages\";\n\n    var connected = ref(false);\n    var socket = null;\n    var ws = ref(null);\n    var messages = [\n      \"Hello?\",\n      \"Are you available?\",\n      \"I'm i alone in the chat?!\",\n    ];\n    var users = [\"HR Manager\", \"Product Owner\", \"Tech Lead\"];\n    return {\n      socket,\n      users,\n      ws,\n      messageTopic,\n      messages,\n      url,\n      httpUrl,\n      connected,\n    };\n  },\n  methods: {\n    joinChat() {\n      //TODO set msgType to JOIN and push user to users\n    },\n    leaveChat() {\n      //TODO set msgType to LEAVE and remove user to users\n    },\n    connect() {\n      this.socket = new SockJS(this.url);\n      this.ws = Stomp.over(this.socket);\n      this.ws.connect(\n        {},\n        (frame) => {\n          this.connected = true;\n          console.log(\"Successfully connected to:\", frame);\n          this.ws.subscribe(this.messageTopic, (res) => {\n            let data = JSON.parse(res.body);\n            console.log(\"Data:\", data);\n            this.messages.push(data.content);\n          });\n        },\n        (error) => {\n          console.log(error);\n          this.connected = false;\n        }\n      );\n    },\n    disconnect() {\n      if (this.ws) {\n        this.ws.disconnect();\n      }\n      this.connected = false;\n    },\n  },\n  created() {\n    this.connect();\n  },\n  components: {\n    ChatWindow,\n  },\n};\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n\n.button-primary {\n  @apply bg-blue-500 text-white rounded-full p-2 m-2 shadow-md text-lg font-semibold;\n}\n.button-secondary {\n  @apply bg-yellow-400 text-white rounded-full p-2 m-2 shadow-md text-lg font-semibold;\n}\n.button-success {\n  @apply bg-green-400 text-white rounded-full p-2 m-2 shadow-md text-lg font-semibold;\n}\n.button-danger {\n  @apply bg-red-400 text-white rounded-full p-2 m-2 shadow-md text-lg font-semibold;\n}\n</style>\n"]}]}